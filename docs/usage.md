# Synexens ROS Driver Usage

The Synexens ROS Driver node exposes Synexens sensor streams to ROS.

command usage:
- `roslaunch synexens_ros_driver driver.launch` : Starts Synexens sensors.
- `roslaunch synexens_ros_driver viewer.launch` : Starts Synexens sensors and a rviz viewer.

## Starting the Driver

The ROS package contains two main launch files to start the driver:
- `driver.launch` starts the driver as a separate node which publishes the raw images and the factory calibration. 

### Parameters

The SY3 ROS Driver node accepts a number of [ROS Parameters](http://wiki.ros.org/Parameter%20Server) to configure the sensor. Since the node uses the ROS parameter server, these parameters can be set in the usual ROS ways (on the command line, in a launch file, through the parameter server, etc..).

The node accepts the following parameters:

- `depth_enabled` (bool) : Default to '`true`'. Controls if the depth camera will be turned on.
- `depth_resolution` (string) : Defaults to '`480P`'. This string selects the color camera resolution. Valid options are '`240P`', '`480P`'.
- `ir_enabled` (bool) : Default to '`true`'. Controls if the ir frame will be turned on.
- `color_enabled` (bool) : Defaults to '`true`'. Controls if the color camera will be turned on.
- `color_resolution` (string) : Defaults to '`480P`'. This string selects the color camera resolution. Valid options are '`480P`', '`1080P`'.
- `fps` (int) : Defaults to `5`. This parameter controls the FPS of the color and depth cameras. The cameras cannot operate at different frame rates. Valid options are `5`, `15`, `30`.
- `point_cloud_enabled` (bool) : Defaults to `true`. If this parameter is set to `true`, the node will generate a sensor_msgs::PointCloud2 message from the depth camera data. This requires that the `depth_enabled` parameter be `true`.
- `rescale_ir_to_mono8` (bool) : Defaults to `false`. Whether to rescale the IR image to an 8-bit monochrome image for visualization and further processing. 

## Topics

The node emits a variety of topics into its namespace.
- `points2` (`sensor_msgs::PointCloud2`) : The point cloud generated by the SY3 SDK from the depth camera data.
- `rgb/image_raw` (`sensor_msgs::Image`) : The raw image from the color camera, in BGR format.
- `rgb/camera_info` (`sensor_msgs::CameraInfo`) : Calibration information for the color camera.
- `depth/image_raw` (`sensor_msgs::Image`) : The raw image from the depth camera, in 16UC1 format. 
- `depth/camera_info` (`sensor_msgs::CameraInfo`) : Calibration information for the depth camera.
- `ir/image_raw` (`sensor_msgs::Image`) : The raw infrared image from the depth camera sensor. 

